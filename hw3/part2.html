<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="cs133 homework 3 Part 2 page">
<link rel="stylesheet" href="styles.css">
<title>CNIT133 hw3 Part 1</title> <!-- what appears in tab header -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <!--  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>-->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
        integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<script>
//parse item sales
	theItem1Value =	239.99;
	theItem2Value =	129.75;
	theItem3Value =	99.95;
	theItem4Value =	350.89;
	theBasePay = 200;
	var theItem1Quantity;

	function calculateSales()
	{
		
		if ($("#myform").valid()) {
			//get and parse numbers entered into form
			item1Quant = parseInt(document.forms["myform"].elements["item1"].value);
			item2Quant = parseInt(document.forms["myform"].elements["item2"].value);
			item3Quant = parseInt(document.forms["myform"].elements["item3"].value);
			item4Quant = parseInt(document.forms["myform"].elements["item4"].value);
			sales1 = parseFloat(totalItemSales(item1Quant, theItem1Value));
			sales2 = parseFloat(totalItemSales(item2Quant, theItem2Value));
			sales3 = parseFloat(totalItemSales(item3Quant, theItem3Value));
			sales4 = parseFloat(totalItemSales(item4Quant, theItem4Value));
			totalSales = sales1 + sales2 + sales3 + sales4;
			commission1 = parseFloat(commission(item1Quant, theItem1Value));
			commission2 = parseFloat(commission(item2Quant, theItem2Value));
			commission3 = parseFloat(commission(item3Quant, theItem3Value));
			commission4 = parseFloat(commission(item4Quant, theItem4Value));
			totalPay = parseFloat(theBasePay) + commission1 + commission2, commission3, commission4;
			
			document.forms["myform"].elements["sales"].value = "$" + totalSales.toFixed(2);
			document.forms["myform"].elements["pay"].value = "$" + totalPay.toFixed(2);
			
			document.getElementById("div1").innerHTML = ("<table ><tr><th>Item Number</th><th>Quantity Sold</th><th>Sales Total</th><th>Commission</th></tr>")
			+ ('<tr> <td>1</td> <td>' + item1Quant + '</td> <td>' + sales1 + '</td> <td>' + commission1 + '</td></tr>')
			+ ('<tr> <td>1</td> <td>' + item2Quant + '</td> <td>' + sales2 + '</td> <td>' + commission2 + '</td></tr>')
			+('<tr> <td>1</td> <td>' + item3Quant + '</td> <td>' + sales3 + '</td> <td>' + commission3 + '</td></tr>')
			+('<tr> <td>1</td> <td>' + item4Quant + '</td> <td>' + sales4 + '</td> <td>' + commission4 + '</td></tr>');
					
		}
	}
	
	function commission(quantity, price){
		if(isNaN(quantity)) {
			quantity=0;
		}
		return (quantity*price*0.09).toFixed(2);
	}
	
	function totalItemSales(quantity, price){
		if(isNaN(quantity)) {
			quantity=0;
		}
		return (quantity*price);
	}
	
</script>

<script>
//validates the data entered is numeric and between 0-100 inclusive)
	$(document).ready(function () {
	    $('#myform').validate({ // initialize the plugin

	    });

	    $.validator.addClassRules({  //anything in this class gets validated with these rules
	        num: {
	            number: true,
	           	min: 0, 
		    	max: 1000000} ,
	    	name: {
	    		required: true,
	    		minlength: 1
	    	}
	    
	});
	});
</script>
<script>
  $( document ).tooltip();
</script>
    
      
</head>

<body><!-- here is where you see what is on the page -->

<nav >
			<a href="hw3.html"> Homework 3 </a>|
			<a href="hw3/part1.html"> Part 1 </a>|
			<a href="hw3/part2.html"> Part 2 </a>|
			<a href="hw3/part3.html"> Part 3 </a>|
			<a href="hw3/part4.html"> Part 4 </a>|
	</nav>
 
<form name="myform" id="myform">
<table>
<tr>
<td>Salesperson:</td>
<td><label for="salesperson" class="name" id="tooltip-1"></label><input type="text" name="salesperson" title="Please make sure that the salesperson's name is spelled correctly"></td>
</tr>
<tr>
<td>Item 1:</td>
<td><input type="text" name="item1" class="num"></td>
</tr>
<tr>
<td>Item 2:</td>
<td><input type="text" name="item2" class="num"></td>
</tr>
<tr>
<td>Item 3:</td>
<td><input type="text" name="item3" class="num"></td>
</tr>
<tr>
<td>Item 4:</td>
<td><input type="text" name="item4" class="num"></td>
</tr>
<tr>
<td>Total Sales:</td> 
<td><input type="text" name="sales" class="money"  size="20" readonly></td>
</tr>
<tr>
<td>Base + Commission Pay:</td> 
<td><input type="text" name="pay" class="money"  size="20" readonly></td>
</tr>
</table>
<br>
<input type="button" onclick="calculateSales()" value="Calculate sales and pay">

<input type="reset" value="RESET">
</form>
<section>

<div id="div1"></div>
<br>
<br>

</section>

<footer>
	<p> Nicole Horner Contact: <a href="mailto:nhorner@ccsf.edu">nhorner@ccsf.edu</a></p>
	<a href="https://hills.ccsf.edu/~nhorner/cnit133/index.html">Back To Main Page</a>
	<!-- this script writes the date the document was last modified -->
	<script>
    var dateModified = document.lastModified;
    mydate = dateModified.slice(0,16);
    document.write("Last updated: " + mydate);
	</script>
	<!--  <p>
	<a class="noglo" href="http://validator.w3.org/check?uri=referer"><img style="border:0;width:88px;height:31px" src="http://www.w3.org/html/logo/badge/html5-badge-h-css3-semantics.png" alt="Valid HTML5" /></a>
	<a class="noglo" href="http://jigsaw.w3.org/css-validator/check/referer"><img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" /></a>
	</p> -->
</footer>

</body>

</html> 